var link=document.querySelector(".writeus"),popup=document.querySelector(".modal-form"),close=popup.querySelector(".modal-form-close"),form=popup.querySelector(".writeus-form"),nameinput=popup.querySelector("[name=name-field]"),emailinput=popup.querySelector("[name=email-field]"),letterarea=popup.querySelector("[name=letter-field]"),storagename=localStorage.getItem("nameinput"),storagemail=localStorage.getItem("emailinput");link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-form-show"),storagename&&(nameinput.value=storagename),storagemail?(emailinput.value=storagemail,letterarea.focus()):nameinput.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-form-show"),popup.classList.remove("modal-form-error")}),form.addEventListener("submit",function(e){nameinput.value&&emailinput.value&&letterarea.value?(localStorage.setItem("nameinput",nameinput.value),localStorage.setItem("emailinput",emailinput.value)):(e.preventDefault(),popup.classList.remove("modal-form-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-form-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("modal-form-show")&&(popup.classList.remove("modal-form-show"),popup.classList.remove("modal-form-error"))});var mapOpen=document.querySelector(".map"),overlay=document.querySelector(".modal-overlay"),mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".modal-map-close");mapOpen.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-map-show"),overlay.classList.add("modal-map-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-map-show"),overlay.classList.remove("modal-map-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-map-show")&&(mapPopup.classList.remove("modal-map-show"),overlay.classList.remove("modal-map-show"))});